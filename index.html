<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title> gaia-l10n test page </title>
    <link rel="stylesheet" type="text/css" href="tests/style.css" />
    <script type="text/javascript">
      function load(url) {
        document.querySelector('iframe').src = url;
      }
      function translate(lang) {
        var doc = document.querySelector('iframe').contentDocument;
        if (!doc.mozL10n)
          return;
        doc.mozL10n.language.code = lang;
        doc.body.dir = doc.mozL10n.language.direction;
      }
      function refresh() {
        translate(document.querySelector('#lang').value);
      }
      addEventListener('DOMContentLoaded', function() {
        load(document.querySelector('#file').value);
      });
    </script>
  </head>
  <body>
    <nav>
      <select id="file" onchange="load(this.value);">
        <option value="tests/applications.xhtml" selected>applications</option>
        <option value="tests/settings.xhtml">settings</option>
      </select>
      <select id="lang" onchange="translate(this.value);">
        <option value="ar">العربية</option>
        <option value="de">Deutsch</option>
        <option value="en-US" selected>English (US)</option>
        <option value="fr">Français</option>
        <option value="ru">Русский</option>
        <option value="zh-TW">正體中文</option>
      </select>
    </nav>
    <iframe onload="refresh()" src="about:blank"></iframe>
  </body>
</html>
